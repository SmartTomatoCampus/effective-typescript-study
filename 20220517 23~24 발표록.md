# 뽀또

## 아이템 23

**한꺼번에 객체 생성하기**

타입스크립트 타입은 일반적으로 변경되지 않아, 자바스크립트 패턴을 타입스크립트로 모델링하는게 쉽다.

즉 객체를 생성할 때는 속성을 하나씩 추가하기보다는 여러 속성을 포함해서 한꺼번에 생성해야 타입 추론에 유리하다.

```tsx
interface Point ( x: number , y:number };

const pt = {
    x : 3,
    y : 4,
};

as 를 사용하여 타입체커를 통과하게 만들수도 있다.

const pt = {} as Point;
pt.x = 3;
pt.y = 4;

// 위와 아래는 같다.

const pt: Point = {
    x : 3, 
    y : 4,
}
```

객체 전개 연산자를 통해 큰 객체를 한꺼번에 만들어 낼수도 있다.

```tsx
const namedPoint = {...pt, ...id}
namedPoint.name // type string 
```

타입에 안전한 방식으로 조건부 속성을 추가하려면 속성을 추가하지 않는 null 또는 {} 으로 객체 전개를 사용하면 된다.

```tsx
declare let hasMiddle : boolean;
const firstLast = {first : "Harry" , last : "Truman" };
const president = {
    ...firstLast,
    ...(hasMiddle 
    ? {middle: "S" } 
    : {})
};
```

전개 연산자로 한꺼번에 여러 속성을 추가할수도 있다는 것이다. 

유니온보다 선택적 필드를 다루기에 더 쉽기 때문에 선택적 필드 방식으로 표현하려면 헬퍼 함수를 사용하면 된다.

```tsx
function addOptional<T extends object, U extends object>(
    a: T, b: U | null
) : T & Partial<U> {
    return {...a, ...b};
}
const pharaoh = addOptional(
    nameTitle,
    hasDates ? { start: -2578 , end : -2524 } : null
);
pharaoh.start // 정상 타입이 number | undefined
```

- 속성을 제각각 추가하지 말고 한꺼번에 객체로 만들어야 한다.
- 안전한 타입으로 속성을 추가하려면 객체 전개를 사용하면 된다.
- 객체에 조건부로 속성을 추가하는 방법을 익히자.

## 아이템 24

**일관성 있는 별칭 사용하기**

하나의 객체의 변수를 만들어 할당하여 그 타입을 변경하면 원래 속성값에서도 변경하게 된다.

별칭을 남발해서 사용하면 제어 흐름을 분석하기 어렵기에 별칭을 신중하게 사용해야 한다.

타입을 자료구조형으로 사용하여 속성을 빠르게 체크할수 있다.

```tsx
interface Coordinate {
    x : number;
    y : number;
}

interface BoundingBox {
    x : [number , number];
    y : [number , number];
}

interface Polygon {
    exterior : Coordinate[];
    holes : Coordinate[][];
    bbox? : BoundingBox;
}
```

객체 비구조화를 이용할 때는 두가지를 주의해야한다.

- 전체 속성이 아니라 각 속해 있는 선택적 속성일 경우에 속성 체크가 더 필요하기에 타입 경계에 null 값을 추가하는 것이 좋다.
- 선택적 속성이 적합하다고 생각하지만, 안에 속해 있는 별칭이 선택적이라면 값이 겂거나 빈 배열이 될 것이다.

- 별칭은 타입스크립트가 타입을 좁히는 것을 방해한다. 따라서 변수에 별칭을 사용할 때는 일관되게 사용해야 한다.
- 비구조화 문법을 사용해서 일관된 이름을 사용하는 것이 좋다.
- 함수 호출이 객체 속성의 타입 정제를 무효화 할 수 있다는 점을 주의해야 한다.
- 속성보다 지역 변수를 사용하면 타입 정제를 믿을 수 있다.


# 너두

## 아이템 23 한꺼번에 객체 생성하기

- 미리 타입을 정의해두어야 편하며 굳이 각자 넣겠다면 단언을 사용함
- 객체 전개 연산자를 사용하면 타입 걱정 없이 생성할 수 있다
- 유니온보다 선택적 필드가 더쉽다

//헬퍼함수가 필요함
function addOptional<T extends object, U extends object>(
  a:T,U: U|null): T&Partial<U> {
    return {...a,...b};
}
const pharaoh = addOptional(
  nameTitle,
  hasDates ? {start: -2589, end: -2566} : null
);
pharaoh.start //number | undefined


- 객체나 배열을 변환해서 새로운 객체나 배열을 생성하고 싶을때
루프대신 내장된 함수형 기법 or 로대시 라이브러리를 쓰는게 이번파트 관점에서 보면 옳다

## 아이템24 일관성 있는 별칭 사용하기

- 별칭을 남발하면 분석을 어렵게 한다
- 별칭을 일관성있게 사용하지 않으면 오류가 난다(헷갈렸던 부분)

<aside>
💡 Polygon.exterior 라는 값이 있으면
const 별칭 = Polygon.exterior 에 할당시켜서
별칭에 대해서 처리를 해주면 되는데
어떤건 별칭에 대해서 처리하고
어떤건 Polygon.exterior 에 대해서 처리하면
같은값이라 할지라도
타입체커가 제대로 처리를 못해준다는 내용입니다
</aside>


# 애한

## item 23 한꺼번에 객체 생성하기
  객체는 제각각 추가하기보다 한꺼번에 객체로 만드는 것이 좋고, 객체 전개 {...a,...b}를 사용하는 것이 좋다.
  객체에 조건부로 속성을 추가하는 방법을 익히자. ->?
  - 자바스크립트에서도 배웠던 기능. spread 연산자나 && 연산자의 속성을 이용하여 앞의 조건이 참인 경우 뒤에 있는 값이 할당되도록 함.

  헬퍼함수?
   - 다른 함수 안에서 특정기능을 하고 있는 함수로, 함수가 복잡해질 때 해당 기능을 별도로 분리하여 의도한 함수가 동작하는 것을 보다 편리하도록 하는 것을 말한다.

  내장된 함수형 기법? 로대시 같은 유틸리티 라이브러리?

## item 24 일관성 있는 별칭 사용하기
 별칭은 타입스크립트가 타입을 좁히는 것을 방해, 따라서 변수에 별칭사용시 일관되게 사용
 비구조화 문법을 사용해서 일관된 이름을 사용해야함.

  비구조화 문법?
  -> 비구조화 할당? : 배열이나 객체 속성을 해체하여 개별 변수에 값을 담는 JAVASCRIPT 표현식. (구조 분해 할당이라고도 함)
  : 좌측에는 변수, 우측에는 해당 변수에 넣어지는 값을 표현
  : 전개연산자 사용

  함수 호출이 객체 속성의 타입 정제를 무효화할 수 있다는 점을 주의 -> 속성보다 지역변수를 사용하면 타입 정제를 믿을 수 있음.

  타입정제?

# 삼앵

## 아이템 23

  - 속성을 제각각 추가하지 말고 한꺼번에 객체로 만들어야한다. 안전한타입으로 속성을 추가하려면 객체 전개
    ({...a,...b})
  
  const namedPoint = {...pt, ...id}
    namedPoint.name // 정상
  

## 아이템 24
  - 별칭은 타입스크립트가 타입을 좁히는것을 방해하므로 변수에 별칭을 사용할떄는 일관된것이 좋다.
  - 선택적 속성일경우 속성체크가 더필요하기 때문에 타입의 경계에 null값을 추가해주자.


# 로록

1. 객체는 한꺼번에 만드는 것이 좋다.
- 객체를 제각각 나눠서 만들어야 한다면, 타입 단언문을 사용하면 된다.
- 작은 객체들을 조합해서 큰 객체를 만들어야 하는 경우에는

    ‘객체 전개 연산자’ ...를 사용하면 된다.

    ⇒ 타입 걱정 없이 필드 단위로 객체를 생성할 수도 있다.


⇒ 객체 전개 연산자는 유용하다. 

- 헬퍼 함수,,,?

    와 검색해서 찾아봐도 1도 모르겠다


2. 별칭을 일관성 있게 사용해야 한다.
- 책에 쓰여진 내용이 한국말로 써져 있는 게 맞나
- 일단 이해한 바로는 별칭을 쓸 거면 확실하게 써라...?
    - const A = B.name 이라고 하자

        함수에서 뭐 조건문이든 뭐든 사용한다면 if (B.name == ‘’) {A=?} 이런 식으로 섞어서 쓰지 말고 if (A ==’’) {A = ?} 이런 식으로 일관성 있게 써라

        이런 뜻인 거 같다.
