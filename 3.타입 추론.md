# Effective - #3장 타입 추론

![327754-eng](https://user-images.githubusercontent.com/34502254/168100406-8929de59-6ccb-4f91-981f-f520586eaf70.png)

## 아이템 19

**추론 가능한 타입을 사용해 장황한 코드 방지하기**

```tsx
let x :number = 12; 
```

이렇게만 하여도 타입스크립트를 잘 사용하고 있는 것이다.

타입 추론이 된다면 명시적 타입 구문은 필요하지 않는다. 오히려 방해가 될 뿐이다.

만약 타입을 확신하지 못한다면 편집기를 통해 체크하면 된다.

타입이 추론되면 리팩토링 역시 용이해진다.

```tsx
interface Product {
	id : number;
	name : string;
	price : number;
}

function logProduct(product : Product) {
	const id: number = product.id;
	const name : string = product.name;
	const price : number = product.price;
	console.log(id, name, price);
}
```

만약 id에 number 가 아닌 string이 들어간다고 가정하면, 오류가 뜨게 되고, 명시적이 아니라면 괜찮게 넘어갔을 것이다.

이를 방지하기 ? 위해서 비구조화 할당문을 사용해 구현하는게 좋다.

```tsx
function logProduct(product: Product) {
	const { id, name, price } = product;
	console.log(id, name, price);
}
```

```tsx
const cache: {[ticker:string] : string} = {};
function getQuote(ticker : string): Promise<number> {
	if( ticker in cache ) {
		return cache[ticker];
	}
}
```

반환 타입을 명시하면 구현상의 오류가 사용자 코드의 오류로 표시되지 않는다.

오류의 위치를 제대로 표시해 주는 이점 외에도 반환타입을 명시해야 하는 이유가 두가지 있다.

1. 반환 타입을 명시하면 함수에 대해 더욱 명확하게 알 수 있기 때문이다.
    1. 반환 타입을 명시하려면 구현하기 전에 입력 타입과 출력 타입이 무엇인지 알아야 하낟.
    2. 미리 타입을 명시하는 방법은, 함수를 구현하기 전에 테스트를 먼저 작성하는 테스트 주도 개발과 비슷하다.
2. 명명된 타입을 사용하기 위해서 이다.
    1. 반환 타입을 명시하면 더욱 직관적인 표현이 된다.
    2. 추론된 반환 타입이 복잡해질수록 명명된 타입을 제공하는 이점은 커진다.

- 타입스크립트가 타입을 추론할 수 있다면 타입구문을 작성하지 말아라
- 함수 메서드의 시그니처에는 타입 구문이 있지만 함수 내의 지역 변수에는 타입 구문이 없다.
- 추론될 수 있는 경우라도 객체 리터럴과 함수 반환에는 타입 명시를 고려해야 한다.
