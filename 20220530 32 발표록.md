# 뽀또

## 아이템 32

**유니온의 인터페이스보다는 인터페이스의 유니온을 사용하기**

```tsx
interface FillLayer {
    layout : FillLayout;
    paint : FillPaint;
}
interface LineLayer {
    layout : LineLayout;
    paint : LinePaint;
}
interface PointLayer {
    layout : PointLayout;
    paint : PointPaint;
}

type Layer = FillLayer | LineLayer | PointLayer
```

- 타입의 속성들 간에 관계를 재대로 모델링하면, 타입스크립트가 코드의 정확성을 체크하는 데 도움이 된다.
- 타입의 구조를 손 댈 수 없는 상황이면 앞서 다룬 인터페이스의 유니온을 사용해서 속성 사이의 관계를 모델링 할 수 있다.
- 여러개의 선택적 필드가 동시에 값이 있거나 동시에 undefined인 경우도 태그된 유니온 패턴이 잘 맞는다.
- 유니온 타입의 속성을 여러 개 가지는 인터페이스에서는 속성 간의 관계가 분명하지 않기 때문에 실수가 자주 발생한다.

- 유니온의 인터페이스보다 인터페이스의 유니온이 더 정확하고 타입스크립트가 이해하기가 더 좋다.
- 타입스크립트가 제어 흐름을 분석할 수 있도록 타입에 태그를 넣는 것을 고려해야 한다.
- 태그된 유니온은 타입스크립트와 매우 잘 맞기 때문에 자주 볼 수 있는 패턴이다.

# 너두

## 아이템 32 유니온의 인터페이스보다는 인터페이스의 유니온을 사용하기

- 유니온을 쓰고있다면 섞이지 않게 계층으로 분리된 인터페이스를 쓰는게 좋다. 하나의 인터페이스로 다쌈싸먹는건 오류가 발생하기 십상이고 다루기도 어렵다
- 섞이는걸 방지하기위해 계층으로 인터페이스를 분리하고 type 태그 유니온을 사용하면 된다. 타입체커와 잘맞는다 +@ undefined마저 잘맞음
- 타입구조를 손댈수 없는 상황에 태그된 유니온을 사용할수 있음. 중첩객체에서도 동일한 효과를 가진다

