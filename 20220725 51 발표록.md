# 뽀또

## 아이템 51

**의존성 분리를 위해 미러 타입 사용하기**

`@types/node` 에 의존하기 때문에 `@types/node` 는 devDependencies로 포함되어야 한다. 

각자가 필요한 모듈만 사용할 수 있도록 구조적 타이핑을 적용할 수 있습니다.

`@types/node` 있는 Buffer 선언을 사용하지 않고, 필요한 메서드와 속성만 별도로 작성할 수 있다.

- 필수 아닌 의존성을 분리할 때는 구조적 타이핑을 사용하면 됩니다.
- 공개한 라이브러리를 사용하는 자바스크립트 사용자가 `@types` 의존성을 가지지 않게 해야 한다.
- 웹 개발자가 NodeJS 관련된 의존성을 가지지 않게 해야한다.

# 너두

## 아이탬 51 의존성 분리를 위해 미러 타입 사용하기

- @Types/node를 devDepnencies로 포함하면 @typesDㅘ 무관한 자비스크립트 개발자와 NodeJS와 무관한 타입스크립트 웹 개발자에게 문제가 생김 이유는 각자가 사용하지 않는 모듈이 포함되어 있기 때문에 혼란스러움
- Buffer는 NodeJS 개발자만 필요함 @types/node는 NodeJS와 타입스크립트를 동시에 사용하는 개발자만 관련이됨
- 그래서 각자 필요한 모듈만 사용할 수 있도록 구조적 타이핑을 적용할 수 있음
- 만약 작성중인 라이브러리가 의존하는 라이브러리의 구현과 무관하게 타입에만 의존한다면 필요한 선언부에만 추출하여 작성중인 라이브러리에 넣는 것을 고려해볼수 있음 ( 미러링 )
- 프로젝트가 의존성이 다양해지고 추가되면 미러링 기법을 적용하기가 어려워져 @types의 의존성을 명시적으로 추가하는게 낫다
- 미러링 기법은 유닛 테스트와 상용 시스템 간의 의존성을 분리하는데 유용하다
