# 뽀또

## 아이템 46

타입 선언과 관련된 세 가지 버전 이해하기

타입스크립트에는 의존성에 관련되어 있다.

1. 라이브러리 버전, @types 버전, 타입스크립트 버전
2. 라이브러리를 업데이트하는 경우 해당 @types 역시 업데이트해야 한다.
3. 타입 선언을 라이브러리에 포함되는 것과 DefineitelyTyped 에 공개하는 것 사이의 장단점을 이해해야 한다.
4. 타입스크립트로 작성된 라이브러리라면 타입 선언을 자체적으로 포함하고 자바스크립트로 작성된 라이브러리라면 타입 선언을 DefinitelyTyped에 공개하는 것이 좋다.

# 너두

## 아이템 46 타입 선어과 관련된 세 가지 버전 이해하기

- 의존성은 라이브러리 버전, 타입 선언의 버전, 타입스크리븥의 버전을 고려 해야한다
- 실제 라이브러리와 타입 정보의 버전이 별도로 관리되는 방식은  4가지 문제가 있다
1. 라이브러리를 업데이트 했지만 실수로 타입 선언은 업데이트하지 않는경우
이런 경우 라이브러리 업데이트와 관련된 새로운 기능을 사용하려 할 때 마다 타입 오류가 발생하게된다
하위 호환성이 깨지는 변경이 있었다면 타입 체커를 통과하더라도 런타임 오류가 발생할 수있다
일반적인 해결책은 타입 선언도 업데이트 하고 라이브러리와 버전을 맞추거나 보강기법을 활용할수있다 혹은 타입 선언의 업데이트를 직접 작성하여 코드 기여를 하는 방법도 있음
2. 라이브러리보다 타입 선언의 버전이 최신인 경우 라이브러리를 사용하다가 타입 선언을 설치하려고 할때 뒤늦게 발생함. 해결책은 라이브리와 타입 선언의 버전이 맞도록 라이브러리 버전을 올리거나 타입 선언의 버전을 내리는것
3. 프로젝트에서 사용하는 타입스크립트의 버전보다 라이브러리에서 필요로하는 타입스크립트 버전이 최신인경우 일반적으로 로대시, 리액트 ,람다 같은 유명 라이브러리 타입 정보를 더 정확하게 표현하기 위해 타입 시스템이 개선되고 버전이 올라감 그러므로 최신버전을 사용해야 한다
4. @types 의존성이 중복될 수도 있다
해결책은 보통 @type을 업데이트하여 서로 버전이 호환되게 하는것이다 

번들링 방식 부수적인 문제점

1. 번들된 타입 선언에 보강으로 해결할 수 없는 오류가 있는경우 @types을 별도 사용중이라면 라이브러리 자체 버전에 맞추어 선택할 수 있음 그러나 번들된 타입에서는 버전 선택이 안된다 
2. 프로젝트 내의 타입선언이 다른 라이브러리 타입 선언에 의존한다면 문제가 된다 쉽게 설명하면 타입스크립트 사용자는 타입스를 설치하고싶고 자스 사용자는 타입스를 설치하고 싶지 않을거임
3. 프로젝트의 과거 버전에 있는 타이벗넝ㄴ에 문제가 있는경우 과거 버전으로 돌아가서 패치 업데이트를 해야한다 DefinitelyTyped는 동일 라이브러리 여러 버전의 타입 선언을 동시에 유지보수할 수있는 메커니즘을 가지고 있습니다
4. 타입 선언의 패치 업데이트를 자주 하기 어렵다는 문제가 있음 그러나 의존성관리를 하는게 쉬운게 아니지만 잘 관리하면 그에 따른 보상이 존재한다. 생산성이 크게 향상됨
